<div class="board">
    @{
        int gridSize = Model?.Size ?? 9;
        int regionWidth = Model?.RegionWidth ?? 3;
        int regionHeight = Model?.RegionHeight ?? 3;

        for (int y = 0; y < gridSize; y++)
        {
            @for (int x = 0; x < gridSize; x++)
            {
                bool editable = Model?.Cells[x + y * gridSize].Value == null;
                string classes = "cell";

                // Whether the cell is at the top or bottom of a region
                if (y % regionHeight == 0)
                {
                    classes += " top";
                }
                else if ((y + 1) % regionHeight == 0)
                {
                    classes += " bottom";
                }

                // Whether the cell is on the left or right of a region
                if (x % regionWidth == 0)
                {
                    classes += " left";
                }
                else if ((x + 1) % regionWidth == 0)
                {
                    classes += " right";
                }

                if (editable)
                {
                    classes += " text-primary";
                }

                <div class="@classes" id="@x,@y" data-x="@x" data-y="@y" data-region="@(x / regionWidth),@(y / regionHeight)" data-editable="@editable" style="flex-basis: calc(100% / @gridSize)">@Model?.Cells[x + y * gridSize].Value</div>
            }
        }
    }
</div>
